1. Address::from_string HatasÄ±nÄ±n Ã‡Ã¶zÃ¼mÃ¼ (E0061)
Daha Ã¶nce env argÃ¼manÄ±nÄ± eklememizin sebebi, SDK'nÄ±n bazÄ± ara sÃ¼rÃ¼mlerinde String tipinin Ã§evreye (env) baÄŸÄ±mlÄ± olmasÄ±ydÄ±. Ancak v25.x'te Address::from_string metodu, zaten kendi iÃ§inde bir String nesnesi aldÄ±ÄŸÄ± iÃ§in &env'ye ihtiyaÃ§ duymaz.

Ã–nceki hatalÄ± kod:

Rust
let admin = Address::from_string(&env, &admin_str_converted); // 2 ArgÃ¼man
NasÄ±l Ã§Ã¶zdÃ¼k (DoÄŸru kod):

Rust
// admin_str_converted zaten bir soroban_sdk::String olduÄŸu iÃ§in env'yi Ã§Ä±karÄ±yoruz.
let admin = Address::from_string(&admin_str_converted); // Sadece 1 argÃ¼man
2. StellarAssetContract Bulunamama HatasÄ±nÄ±n Ã‡Ã¶zÃ¼mÃ¼ (E0433)
Bu, SDK'daki en bÃ¼yÃ¼k deÄŸiÅŸimlerden biridir. Eskiden yerel XLM'i (Native Asset) tanÄ±mlamak iÃ§in StellarAssetContract yapÄ±sÄ±nÄ± kullanÄ±rdÄ±k. Modern SDK'larda bu "Hard-coded" yapÄ± yerine, Ã§evrenin (Env) sunduÄŸu dinamik metotlara geÃ§ildi.

Ã–nceki hatalÄ± kod:

Rust
let token_id = soroban_sdk::token::StellarAssetContract::token_id(&env);
NasÄ±l Ã§Ã¶zdÃ¼k (DoÄŸru kod):
Soroban artÄ±k XLM'i "Native Asset" olarak doÄŸrudan Env Ã¼zerinden tanÄ±yor.

Rust
let native_asset_address = env.current_contract_address(); // Veya env.native_asset_id()
let token_client = token::Client::new(&env, &env.native_asset_id());
ğŸ› ï¸ Revize EdilmiÅŸ Tam lib.rs (HatasÄ±z Versiyon)
Derleyicinin tÃ¼m itirazlarÄ±nÄ± susturacak olan fonksiyon yapÄ±sÄ± tam olarak ÅŸudur:

Rust
#![no_std]
use soroban_sdk::{contract, contractimpl, token, Address, Env, String};

#[contract]
pub struct ChatSupportContract;

#[contractimpl]
impl ChatSupportContract {
    pub fn donate_to_admin(env: Env, from: Address, amount: i128) {
        // 1. Yetki kontrolÃ¼
        from.require_auth();

        // 2. Admin adresini oluÅŸturma (HATA 1 FÄ°X: env argÃ¼manÄ± kaldÄ±rÄ±ldÄ±)
        let admin_str = String::from_str(&env, "GAH3WM7BDRBYGFTRPLI6DHYO2GREMTILTN4NYBAHYLIWK4JLLRO2HJBH");
        let admin = Address::from_string(&admin_str);

        // 3. Native XLM Client oluÅŸturma (HATA 2 FÄ°X: native_asset_id() kullanÄ±ldÄ±)
        let native_token_address = env.native_asset_id();
        let token_client = token::Client::new(&env, &native_token_address);

        // 4. Transfer
        token_client.transfer(&from, &admin, &amount);
    }
}
ğŸ’¡ NÃ¼kleer MÃ¼hendis Notu: Neden DeÄŸiÅŸti?
Soroban ekibi, kontratlarÄ±n boyutunu (WASM limitleri) optimize etmek iÃ§in StellarAssetContract gibi aÄŸÄ±r yapÄ±larÄ± Env (Environment) iÃ§ine gÃ¶mdÃ¼. Bu sayede her kontratÄ±n iÃ§ine XLM'in tanÄ±mÄ±nÄ± tekrar tekrar yazmak yerine, kontrat Ã§alÄ±ÅŸtÄ±ÄŸÄ± anda "Zaten aÄŸdayÄ±z, XLM'in adresi bellidir" diyerek env.native_asset_id() Ã¼zerinden eriÅŸim saÄŸlÄ±yoruz.

Ã–zetle:

Address::from_string artÄ±k sadece stringi kokluyor, env'ye bakmÄ±yor.

native_asset_id() anahtarÄ±mÄ±z, token::Client ise o anahtarla Ã§alÄ±ÅŸan motorumuz.

Bu dÃ¼zeltmeleri yaptÄ±ktan sonra stellar contract build komutunu Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nda reaktÃ¶rÃ¼n "yeÅŸil Ä±ÅŸÄ±k" yaktÄ±ÄŸÄ±nÄ± gÃ¶receksin